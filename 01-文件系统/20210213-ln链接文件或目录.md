# ln 链接文件或目录

作用:链接文件或目录。
格式: ln [选项][源文件或目录][目标文件或目录]
或: ln [选项][源文件或目..][目的目录]

选项如下。
```
-b或--backup: 删除，覆盖目标文件之前的备份。
-d或-F或--directory: 建立目录的硬连接。
-f或--force: 强行建立文件或目录的连接，不论文件或目录是否存在。
-i或--interactive: 覆盖既有文件之前先询问用户。
-n或--no-dereference: 把符号链接的目的目录视为一般文件。
-s或--symbolic: 对源文件建立符号链接，而非硬链接。
-S<字尾备份字符串>或--suffix=<字尾备份字符串>: 用"-b"参数备份目标文件后，备份文件的字尾会被加上一个备份字符串，预设的字尾备份字符串是符号"~",你可通过"-S"参数来改变它。
-v或--verbose: 显示指令执行过程。
-V<备份方式>或--version-control=<备份方式>: 用"-b"参数备份目标文件后，备份文件的字尾会被加上一个备份字符串，这个字符串不仅可用"-S"参数变更，当使用"-V"参数<备份方式>指定不同备份方式时，也会产生不同字尾的备份字符串。
--help: 在线帮助。
--version: 显示版本信息。
```

说明: ln 指令用于链接文件或目录，如同时指定两个以上的文件或目录，且最后的目的地县一个已经存在的目录，则会把前面指定的所有文件或目录复制到该目录中。若同时指定多个文件或目录，且最后的目的地并非是一个已存在的目录，则会出现错误信息。

链接有两种，一种被称为硬链接(Hard Link)，另一种被称为符号链接(Symbolic Link)。建立硬链接时，链接文件和被链接文件必须位于同一个文件系统中，并且不能建立指向目录的硬链接。而 对于符号链接，则不存在这个问题。默认情况下，ln 产生硬链接。

在硬链接的情况下，参数中的"目标"被链接至[链接名]。如果[链接名]是一个目录名，系统将在该目录之下建立一个或多个与"目标"同名的链接文件，链接文件和被链接文件的内容完全相同。如果[链接名]为一个文件，用户将被告知该文件已存在且不进行链接。如果指定了多个"目标"参数，那么最后一个参数必须为目录。

应用实例如下。

(1)用户为当前目录下的文件lunch创建了一个符号链接/home/xu: 
```
$ ln - s lunch /home/xu
```
说明:给ln命令加上-s选项，则建立符号链接。如果[链接名]已经存在但不是目录，将不做链接。[链接名]可以是任何一个文件名(可包含路径)，也可以是一个目录，并且允许它与"目标"不在同一个文件系统中。如果[链接名]是一个已经存在的目录，系统将在该目录下建立一个或多个与"目标"同名的文件，此新建的文件实际上是指向原"目标"的符号链接文件。

(2)创建到一个文件的另一个链接，请输入:
```
#ln -f chapl intro
```
这会将chapl链接到新的名称，intro。 如果intro不存在，那么会创建该文件名。如果intro已经存在了，那么这个文件会被替换为指向chapl的一个链接。然后chapl和intro文件名会指向同一个文件。对在这里面任何一个的更改都会出现在另一个中。如果一个文件名被rm命令删除，那么该文件并没有完全被删除，因为它依旧以其他名字存在。

(3)将文件链接为另一个目录中的相同名字，请输入:
```
#ln index manual
```
这会将index链接到新名称，manual/index.

(4)将几个文件链接为另一个目录中的名称，请输入:
```
ln chap2 jim/chap3 /home/manual
```
这会将chap2链接到新名称/home/manual/chap2;将jim/chap3链接到新名称/home/manual/chap3。

(5)要在不指明目标文件参数的情况下得到相同的结果，请输入:
```
ln -s /tmp/toc
```