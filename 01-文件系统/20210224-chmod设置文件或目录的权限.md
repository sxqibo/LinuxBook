# chmod 设置文件或者目录的权限 

作用: chmod是change file or directory' s mode的缩写，作用是修改文件、目录的访问权限，用户可以用它控制文件、目录的访问权限。
格式: chmod命令有两种用法。一种是包含字母和操作符表达式的字符设定法(相对权限设定); 另一种是包含数字的数字设定法(绝对权限设定)。

(1)字符设定法
```
chmod [ugoa] [+ | - | =] [ rwxXstugo] 文件名
```
第一部分决定权限的授予者，第二部分决定对权限进行何种操作(添加、删除、设定)，第三部分决定具体要授予的权限，三部分组成一个字符串，也就是mode参数值。详细描述如表2-4所示。

### 表2-4 chmod字符设定模式的用法
|值				|描述														|
|:-:			|:-:														|
|授予者			|															|
|u				|用户，即文件、目录的所有者									|
|g				|同组用户，与文件属主有相同组ID的所有用户						|
|o				|其他用户													|
|a				|所有用户，它是系统默认值										|
|操作符号		|															|
|+				|在原有权限中添加某个权限										|
|-				|在原有权限中删除某个权限										|
|=				|赋予新给定权限，并取消其他所有权限								|
|权限位			|															|
|r				|设置读权限													|
|w				|设置写权限													|
|x				|设置执行权限													|
|X				|只有目标文件对某些用户是可执行的，该目标文件是目录时才追加x属性	|
|s				|设置SUID、SGID, g+s 设置SGID, u+s 设置SUID					|
|t				|保存程序的文本到交换设备上									|
|u				|与文件属主拥有一样的权限										|
|g				|与和文件属主同组的用户拥有-样的权限							|
|o				|与其他用户拥有一样的权限										|

实例应用如下。

如果一个系统管理员写了一个通知(news)让所有用户阅读，那么必须授权用户对这个文件有读权限，可以使用命令:
```
#chmod a=r news
```

(2)数字设定法
数字设定法的一般形式为: chmod [mode]文件名
数字属性的格式应为3个0~7的八进制数，其顺序是(u) (g) (o) 文件名，以空格分开要改变权限的文件列表，支持通配符。
数字表示的权限的含义如下:
```
* 0001: 所有者的执行权限。
* 0002: 所有者的写权限。
* 0004: 所有者的读权限。
* 0010: 组的执行权限。
* 0020: 组的写权限。
* 0040: 组的读权限。
* 0100: 其他人的执行权限。
* 0200: 其他人的写权限。
* 0400: 其他人的读权限。
* 1000: 粘贴位置位。
* 2000: 假如这个文件是可执行文件，则为组ID位置位，否则其中文件锁定位置位。
* 4000: 假如这个文件是可执行文件，则为用户ID位置位。
```
* 系统管理员写了一个通知(news) 让所有用户阅读，那么必须授权用户对这个文件有读权限，可以使用命令:
```
#chmod 444 news2
```

上述命令中，数字444是如何计算出来的呢?0004为所有者的读权限，0040为组的读权限，0400为其他人的读权限，这3个数字相加就是0444 (以上数字都是八进制数)，如图2-8所示。
图2-8分 别用字符设定法和数字设定法修改文件权限

从图2-8中可以看到“chmod 444 news"和“chmod a=r news" 命令是等价的。

说明:因为Linux系统有能力支持多用户，在每一方面系统都会做出谁能读、写和执行的资源权力限制。这个权限以三个八位元的方式存储着，一个表示文件所属者，一个表示文件所属群组，一个表示其他人。这些数字以下列方式表示，如表2-5所示。

### 表2-5权限的表示形式
|数字 	|二进制数的表示	|对应的权限表示形式	|权限含义		|
|:-:	|:-:			|:-:				|:-:			|
|0 		|000			|---				|没有任何权限		|
|1 		|001			|--x				|可执行			|
|2 		|010			|-w-				|可写			|
|3 		|011			|-wx				|可写和可执行		|
|4 		|100			|r--				|可读 			|
|5 		|101			|r-x				|可读和可执行		|
|6 		|110			|rw-				|可读和可写 		|
|7 		|111			|rwx				|可读、可写可执行	|